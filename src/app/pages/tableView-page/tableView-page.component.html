<div class="sensor-container">
  <h1 class="sensor_headline">
    <i class="fas fa-table"></i>
    Tabellarische Ansicht
  </h1>

  <div class="config-section">
    <div class="stat-card">
      <form [formGroup]="timeForm">
        <app-sensor-dropdown
          [selectedOption]="selectedOption"
          (selectionChange)="onSelectionChange($event)"
        >
        </app-sensor-dropdown>

        <div *ngIf="selectedOption" class="controls">
          <app-date-time-picker formControlName="dateTimeRange"></app-date-time-picker>

          <!-- Quick Range Buttons in Page -->
          <div class="quick-buttons">
            <button mat-stroked-button type="button" (click)="applyQuick(QuickRangeKey.LAST_WEEK)">
              Neue Tabelle zur letzten Woche
            </button>
            <button mat-stroked-button type="button" (click)="applyQuick(QuickRangeKey.LAST_MONTH)">
              Neue Tabelle zum vorigen Monat
            </button>
            <button
              mat-stroked-button
              type="button"
              (click)="applyQuick(QuickRangeKey.LAST_90_DAYS)"
            >
              Neue Tabelle zu den letzten 90 Tagen
            </button>
          </div>

          <button
            mat-raised-button
            color="primary"
            type="button"
            (click)="loadDetailedMeasurement()"
          >
            <i class="fas fa-plus"></i> Neue Tabelle hinzuf√ºgen
          </button>
          <mat-error *ngIf="errorMessage">{{ errorMessage }}</mat-error>
        </div>
      </form>
    </div>
  </div>

  <div class="tables-grid">
    <div *ngFor="let table of savedTables" cdkDrag class="stat-card table-card">
      <app-measurement-table [table]="table" (remove)="removeTable($event)"></app-measurement-table>
    </div>
  </div>
</div>
